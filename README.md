# WarehouseExampleNetReact
Пример системы по управлению складом (упрощённо).

## Архитектура
back - папка с серверной частью, написан на ASP.NET Core.

front - папка с клиентской частью, написан на React + TS + Vite.

### back
back написан при использовании слоистой архитектуры и состоит из:
- Warehouse.Contracts - Общие сущности, интерфейсы, контракты
- Warehouse.Domain - Проект с сущностями доменной модели
- Warehouse.Infrastructure - Подключение к БД, работа с БД (в данном случае репозитории) и прочие внешние сервисы
- Warehouse.Application - Сервисы, само приложение и бизнес логика по сути.
- Warehouse.Tests - Проект для тестов
- Warehouse.Api - Корневой проект с api контроллерами

### front
front написан при помощи менее жёсткого разделения, но тоже есть некоторые слои:
- api - подключение к серверной части
- app - страницы приложения
- assets - статические ассеты
- components - компоненты интерфейса
  - menu - компоненты для меню
  - pure - чистые компонеты
  - style - части для стилей
- types - типы TS
- utils - вспомогательные части

## Архитектурные решения
- Использование общего responseDTO для ответов серверной частью всегда с кодом 200 и структурой json с полями response, hasError, errorMessage, для унификации.
- Использование максимально чистых компонентов в клиентской части для упрощения самих компонентов и логики работы с ними.
- Использование слоистой архитектуры, для тестируемости и повышения читаемости, понижение связности проекта.
- Использование одного модального окна для ошибок, которое через контект может быть установлено из любой части фронта. Централизованное отображение ошибок.
- Использование типизированных crudRepository crudService, baseCrudController для унификации, использование ExpressionTree для обработки запросов на фильтрацию. Таким образом повторящийся код писать не нужно, хоть и в целом система сложнее. Но можно написать унифицированный компонент фронта, как и унифицированный бэк.
- Использование типизированный генераторов страниц с параметрами для уменьшения дублирования кода на фронте.
- Использование TS для фронта, повышение надёжности, упрощение поддержки, так как есть линтинг и сигнатуры компонентов с типами.
- Проблему вычисления остатков решаем через транзакции на уровне БД. Нагрузка на приложение в ТЗ не оговорена, RPS, количество нод и пользователей тоже (да даже авторизации нет), так что данное решение на данном уровне детализации и проработки применимо. Вся логика работы с остатками баланса вынесена в отдельный сервис BalanceService.
